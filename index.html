<html>
<head>
	<script src="q.js"></script>
	<script src="handlebars-v2.0.0.js"></script>

</head>

<style>
	#byte_content {
		margin: 5px 0;
		max-height: 100px;
		overflow-y: auto;
		overflow-x: hidden;
	}
	#byte_range { margin-top: 5px; }

	#pattern, #plaintext {
		width: 100%;

	}

	.data {
		font-family: Courier New, Courier, Lucida Console, sans-serif;
	}
    
    .codeInput {
        font-family: Courier New, Courier, Lucida Console, sans-serif;
        width:100%;
        height:100%;
    }
</style>
<div>
	<input type="file" id="files" name="file" />
</div>
<div>
	<input type="range" id="read-from" min="0" style="width:500px" disabled /> <label for="read-from" id="read-from-label"></label>
</div>
<div>
	<input type="range" id="read-to" min="1" style="width:500px" disabled /> <label for="read-to" id="read-to-label"></label>
</div>

<button id="searchbutton">Search</button>
<div id="byte_range"></div>
<div id="byte_content"></div>
<div>
	Cursor position: <span id="cursor_position"></span>
</div>
<div>
	<progress id="progress-bar" max="100" value="0" style="width:500px"></progress>
</div>
<div>
	Results: <span id="result_count"></span>
</div>
<div>
	Plaintext pattern:<br/>
	<input type="text" class="data" id="plaintext" value="https://e-api01.verisure.com/xbn/2/installation/123"/>
</div>
<button id="plainTextToRegExp">Create regular expression</button>
<div>
	Regular expression pattern:<br/>
	<input type="text" class="data" id="pattern" value="https:\/\/e\-api01\.verisure\.com\/xbn\/2\/installation\/[0-9]+\/overview.*agent:Apache-HttpClient.*VS_APP_ANDROID"/>
</div>
<div>
    <input type="checkbox" id="render-results" />
    Render results
</div>
<div>
    Parsing script<br/>
    <textarea id="parse-script" class="codeInput" spellcheck="false">
(function parseScript() {
this.readLine = function (line) {
    /*
    1.	`2014-10-22 19:35:21,577`
    2.	`SDI_VS_ANDROID  `
    3.	`                              `
    4.	`jILCT7CkUWHlr82yX9lI0g## `
    5.	`INFO`
    6.	`com.sdi.xbn.web.spring.SDAPILoggingFilter`
    7.	`ENTRY GET ...restofmessage...`

    line.time = fields[1];
    line.appId = fields[2];
    line.logId1 = fields[3];
    line.logId2 = fields[4];
    line.level = fields[5];
    line.className = fields[6];
    line.message = fields[7];
    */

}

this.getOutput = function() {
    return "my conclusion";
}
        
return this;
        
})();
        
    </textarea>
    
</div>
<div id="fancy_output"></div>

<script id="line-template" type="text/x-handlebars-template">
	<div class="result-line">
		<div class="log-header">
			<span class="log-level">{{level}}</span>
			at <span class="log-datetime">{{time}}</span>
			from <span class="log-appid">{{appId}}</span>
			reported by <span class="log-class">{{className}}</span>
		</div>
		<div class="log-main">
			<span class="log-message">{{message}}</span>
		</div>
		<div class="log-footer">
			ID1: <span class="log-id1">{{logId1}}</span>
			ID2: <span class="log-id2">{{logId2}}</span>
		</div>
	</div>

</script>



<script src="main.js"></script>


</html>